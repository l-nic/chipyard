# RUNTIME configuration for the FireSim Simulation Manager
# See docs/Advanced-Usage/Manager/Manager-Configuration-Files.rst for
# documentation of all of these params.

[runfarm]
runfarmtag=amallery_runfarm

f1_16xlarges=1
m4_16xlarges=0
f1_4xlarges=0
f1_2xlarges=0

runinstancemarket=ondemand
spotinterruptionbehavior=terminate
spotmaxprice=ondemand

[targetconfig]
#Set topology=no_net_config to run without a network simulation
topology=example_3config
no_net_num_nodes=2
linklatency=42
switchinglatency=1
netbandwidth=200
profileinterval=-1
high_priority_obuf_size=81920
low_priority_obuf_size=81920
timeout_cycles=50000
rtt_pkts=2

# This references a section from config_hwconfigs.ini
# In homogeneous configurations, use this to set the hardware config deployed
# for all simulators
defaulthwconfig=firesim-rocket-quadcore-lnic-llc4mb-ddr3-90mhz

[load_gen]
use_load_gen=yes
test_type=ONE_CONTEXT_ONE_CORE
service_dist_type=FIXED
request_dist_type=FIXED
num_requests=20000
request_rate_lambda_inverse_start=10000
request_rate_lambda_inverse_stop=5000
request_rate_lambda_inverse_dec=100
min_service_time=300
max_service_time=1000000
exp_dist_scale_factor=10000
exp_dist_decay_const=3.5
bimodal_dist_high_mean=5000
bimodal_dist_high_stdev=300
bimodal_dist_low_mean=500
bimodal_dist_low_stdev=30
bimodal_dist_fraction_high=0.5
fixed_dist_cycles=8000
c1_stall_factor=100
c1_stall_freq=10
load_type=RAFT_WRITE
min_service_key=0
max_service_key=10000

[raft_cluster]
use_raft_cluster=yes
num_servers=2

[tracing]
enable=no

# Trace output formats. Only enabled if "enable" is set to "yes" above
# 0 = human readable; 1 = binary (compressed raw data); 2 = flamegraph (stack
# unwinding -> Flame Graph)
output_format=0

# Trigger selector.
# 0 = no trigger; 1 = cycle count trigger; 2 = program counter trigger; 3 =
# instruction trigger
selector=1
start=0
end=-1

[autocounter]
readrate=0

[workload]
workloadname=lnic-raft.json
terminateoncompletion=no
suffixtag=
wait_for_all_sims=no

[hostdebug]
# When enabled (=yes), Zeros-out FPGA-attached DRAM before simulations
# begin (takes 2-5 minutes).
# In general, this is not required to produce deterministic simulations on
# target machines running linux. Enable if you observe simulation non-determinism.
zerooutdram=no
